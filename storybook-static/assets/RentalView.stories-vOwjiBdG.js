import{u as Q}from"./vue-i18n-HSqjXFe5.js";import{v as G,r as O,A as K,j as ce,B as ue,C as de,x as V,D as q,E as he,G as me,H as pe,w as fe,I as be,J as ke,c as X,d as ge,e as B,o as L,g as E,t as k,u as $,F as ye,K as ve}from"./vue.esm-bundler-DX46CzUY.js";/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Y;const P=e=>Y=e,Z=Symbol();function A(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var C;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(C||(C={}));function we(){const e=G(!0),o=e.run(()=>O({}));let n=[],t=[];const s=K({install(a){P(s),s._a=a,a.provide(Z,s),a.config.globalProperties.$pinia=s,t.forEach(c=>n.push(c)),t=[]},use(a){return this._a?n.push(a):t.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:o});return s}const ee=()=>{};function H(e,o,n,t=ee){e.push(o);const s=()=>{const a=e.indexOf(o);a>-1&&(e.splice(a,1),t())};return!n&&me()&&pe(s),s}function S(e,...o){e.slice().forEach(n=>{n(...o)})}const Ie=e=>e(),J=Symbol(),F=Symbol();function N(e,o){e instanceof Map&&o instanceof Map?o.forEach((n,t)=>e.set(t,n)):e instanceof Set&&o instanceof Set&&o.forEach(e.add,e);for(const n in o){if(!o.hasOwnProperty(n))continue;const t=o[n],s=e[n];A(s)&&A(t)&&e.hasOwnProperty(n)&&!V(t)&&!q(t)?e[n]=N(s,t):e[n]=t}return e}const Se=Symbol();function _e(e){return!A(e)||!e.hasOwnProperty(Se)}const{assign:g}=Object;function xe(e){return!!(V(e)&&e.effect)}function De(e,o,n,t){const{state:s,actions:a,getters:c}=o,r=n.state.value[e];let y;function u(){r||(n.state.value[e]=s?s():{});const m=ke(n.state.value[e]);return g(m,a,Object.keys(c||{}).reduce((b,p)=>(b[p]=K(X(()=>{P(n);const v=n._s.get(e);return c[p].call(v,v)})),b),{}))}return y=te(e,u,o,n,t,!0),y}function te(e,o,n={},t,s,a){let c;const r=g({actions:{}},n),y={deep:!0};let u,m,b=[],p=[],v;const w=t.state.value[e];!a&&!w&&(t.state.value[e]={}),O({});let z;function W(l){let i;u=m=!1,typeof l=="function"?(l(t.state.value[e]),i={type:C.patchFunction,storeId:e,events:v}):(N(t.state.value[e],l),i={type:C.patchObject,payload:l,storeId:e,events:v});const d=z=Symbol();be().then(()=>{z===d&&(u=!0)}),m=!0,S(b,i,t.state.value[e])}const se=a?function(){const{state:i}=n,d=i?i():{};this.$patch(I=>{g(I,d)})}:ee;function re(){c.stop(),b=[],p=[],t._s.delete(e)}const U=(l,i="")=>{if(J in l)return l[F]=i,l;const d=function(){P(t);const I=Array.from(arguments),x=[],M=[];function ie(h){x.push(h)}function le(h){M.push(h)}S(p,{args:I,name:d[F],store:f,after:ie,onError:le});let D;try{D=l.apply(this&&this.$id===e?this:f,I)}catch(h){throw S(M,h),h}return D instanceof Promise?D.then(h=>(S(x,h),h)).catch(h=>(S(M,h),Promise.reject(h))):(S(x,D),D)};return d[J]=!0,d[F]=i,d},ae={_p:t,$id:e,$onAction:H.bind(null,p),$patch:W,$reset:se,$subscribe(l,i={}){const d=H(b,l,i.detached,()=>I()),I=c.run(()=>fe(()=>t.state.value[e],x=>{(i.flush==="sync"?m:u)&&l({storeId:e,type:C.direct,events:v},x)},g({},y,i)));return d},$dispose:re},f=de(ae);t._s.set(e,f);const _=(t._a&&t._a.runWithContext||Ie)(()=>t._e.run(()=>(c=G()).run(()=>o({action:U}))));for(const l in _){const i=_[l];if(V(i)&&!xe(i)||q(i))a||(w&&_e(i)&&(V(i)?i.value=w[l]:N(i,w[l])),t.state.value[e][l]=i);else if(typeof i=="function"){const d=U(i,l);_[l]=d,r.actions[l]=i}}return g(f,_),g(he(f),_),Object.defineProperty(f,"$state",{get:()=>t.state.value[e],set:l=>{W(i=>{g(i,l)})}}),t._p.forEach(l=>{g(f,c.run(()=>l({store:f,app:t._a,pinia:t,options:r})))}),w&&a&&n.hydrate&&n.hydrate(f.$state,w),u=!0,m=!0,f}/*! #__NO_SIDE_EFFECTS__ */function Be(e,o,n){let t,s;const a=typeof o=="function";t=e,s=a?n:o;function c(r,y){const u=ue();return r=r||(u?ce(Z,null):null),r&&P(r),r=Y,r._s.has(t)||(a?te(t,o,s,r):De(t,s,r)),r._s.get(t)}return c.$id=t,c}class Le{books=[{id:"1",title:"Meteor Falls",author:"John Doe",description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it.It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages.There are many variations of passages of Lorem Ipsum available",coverUrl:"https://i.imgur.com/Uw86zzN_d.webp?maxwidth=760&fidelity=grand",available:!0,price:9.99},{id:"2",title:"O besouro de má sorte",author:"Murilo Emerick",description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it.It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages.There are many variations of passages of Lorem Ipsum available",coverUrl:"https://i.imgur.com/316pnWQ_d.webp?maxwidth=760&fidelity=grand",available:!0,price:14.99},{id:"3",title:"Vectober de Bárbara Ghirello",author:'Bárbara Ghirello"',description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it.It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages.There are many variations of passages of Lorem Ipsum available",coverUrl:"https://i.imgur.com/rVQA8pp_d.webp?maxwidth=760&fidelity=grand",available:!1,price:19.99},{id:"4",title:"Viagem ao fim do universo",author:"Fábio Martins",description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it.It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages.There are many variations of passages of Lorem Ipsum available",coverUrl:"https://i.imgur.com/QAFqjxo_d.webp?maxwidth=760&fidelity=grand",available:!1,price:19.99}];rentals=[];async getBooks(){return new Promise(o=>{setTimeout(()=>o([...this.books]),300)})}async getBookById(o){return new Promise(n=>{setTimeout(()=>{const t=this.books.find(s=>s.id===o);n(t)},300)})}async rentBook(o,n){return new Promise((t,s)=>{setTimeout(()=>{const a=this.books.findIndex(r=>r.id===o);if(a===-1||!this.books[a].available){s(new Error("Book not available"));return}const c={id:`rental-${Math.random().toString(36).substr(2,9)}`,bookId:o,userId:n,rentalDate:new Date,returnDate:new Date(Date.now()+14*24*60*60*1e3)};this.books[a].available=!1,this.rentals.push(c),t(c)},500)})}async returnBook(o){return new Promise((n,t)=>{setTimeout(()=>{const s=this.rentals.findIndex(r=>r.id===o);if(s===-1){t(new Error("Rental not found"));return}const a=this.rentals[s],c=this.books.findIndex(r=>r.id===a.bookId);c!==-1&&(this.books[c].available=!0),this.rentals.splice(s,1),n()},300)})}}function Ee(){const e=new Le;return{getBooks:()=>e.getBooks(),getBookById:o=>e.getBookById(o),rentBook:(o,n)=>e.rentBook(o,n),returnBook:o=>e.returnBook(o)}}const oe=Be("books",()=>{const e=O([]),o=O([]),{getBooks:n,rentBook:t}=Ee(),s=async()=>{try{const r=await n();e.value=r}catch(r){console.error("Falha ao inicializar os livros:",r),e.value=[]}},a=X(()=>e.value.filter(r=>r.available)),c=async(r,y)=>{try{const u=e.value.find(p=>p.id===r);if(!u)throw new Error("Livro não encontrado");if(!u.available)throw new Error("O livro não está disponível");const m=await t(r,y);o.value.push(m);const b=e.value.findIndex(p=>p.id===r);return b!==-1&&(e.value[b].available=!1),m}catch(u){throw console.error("Falha no aluguel:",u),u}};return s(),{books:e,rentals:o,availableBooks:a,processBookRental:c,initializeBooks:s}}),Ce={class:"w-11/12 mx-auto"},Pe={class:"text-xl md:text-3xl text-dark font-bold mb-6"},je={class:""},Re={key:0,class:"text-center text-gray-500"},Oe={key:1,class:"md:w-11/12 grid grid-cols-1 md:grid-cols-3 gap-28"},ne=ge({__name:"RentalView",setup(e){const o=oe();return(n,t)=>(L(),B("div",Ce,[E("h1",Pe,k(n.$t("my_rentals")),1),E("div",je,[$(o).rentals.length===0?(L(),B("div",Re,k(n.$t("no_rentals")),1)):(L(),B("div",Oe,[(L(!0),B(ye,null,ve($(o).rentals,s=>(L(),B("div",{key:s.id,class:"border p-4 rounded-lg shadow-md hover:shadow-lg transition"},[E("p",null,k(n.$t("book_id"))+": "+k(s.bookId),1),E("p",null,k(n.$t("rental_date"))+": "+k(s.rentalDate.toLocaleDateString()),1),E("p",null,k(n.$t("return_date"))+": "+k(s.returnDate.toLocaleDateString()),1)]))),128))]))])]))}});ne.__docgenInfo={exportName:"default",displayName:"RentalView",description:"",tags:{},sourceFiles:["C:/Projetos/snowman/src/views/RentalView.vue"]};const T=()=>(P(we()),oe()),Ae={title:"Views/RentalView",component:ne,parameters:{layout:"fullscreen"},decorators:[()=>({template:'<div class="min-h-[100px]"><story/></div>',setup(){const e=T();return e.rentals=[{id:"1",bookId:"book-1",userId:"user-1",rentalDate:new Date("2024-02-01"),returnDate:new Date("2024-02-15")},{id:"2",bookId:"book-2",userId:"user-2",rentalDate:new Date("2024-02-05"),returnDate:new Date("2024-02-19")}],{}}})]},j={decorators:[()=>({template:"<div><story/></div>",setup(){const e=T();e.rentals=[{id:"1",bookId:"book-1",userId:"user-1",rentalDate:new Date("2024-02-01"),returnDate:new Date("2024-02-15")}];const{locale:o}=Q();return o.value="pt",{}}})]},R={decorators:[()=>({template:"<div><story/></div>",setup(){const e=T();e.rentals=[{id:"1",bookId:"book-1",userId:"user-1",rentalDate:new Date("2024-02-01"),returnDate:new Date("2024-02-15")}];const{locale:o}=Q();return o.value="en",{}}})]};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`{
  decorators: [() => ({
    template: '<div><story/></div>',
    setup() {
      const bookStore = initializeStore();
      bookStore.rentals = [{
        id: '1',
        // Corrigido para string
        bookId: 'book-1',
        userId: 'user-1',
        // Adicionado userId
        rentalDate: new Date('2024-02-01'),
        returnDate: new Date('2024-02-15')
      }];
      const {
        locale
      } = useI18n();
      locale.value = 'pt';
      return {};
    }
  })]
}`,...j.parameters?.docs?.source}}};R.parameters={...R.parameters,docs:{...R.parameters?.docs,source:{originalSource:`{
  decorators: [() => ({
    template: '<div><story/></div>',
    setup() {
      const bookStore = initializeStore();
      bookStore.rentals = [{
        id: '1',
        // Corrigido para string
        bookId: 'book-1',
        userId: 'user-1',
        // Adicionado userId
        rentalDate: new Date('2024-02-01'),
        returnDate: new Date('2024-02-15')
      }];
      const {
        locale
      } = useI18n();
      locale.value = 'en';
      return {};
    }
  })]
}`,...R.parameters?.docs?.source}}};const Ne=["VersãoPortuguês","VersãoInglês"];export{R as VersãoInglês,j as VersãoPortuguês,Ne as __namedExportsOrder,Ae as default};
